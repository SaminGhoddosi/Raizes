<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Raízes</title>
  <link rel="icon" type="image/png" href="assets/logo_perfil.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'green-dark': '#31572C',
            'green-medium': '#4D841D',
            'green-light': '#A5C96F'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-100 min-h-screen">
  <!-- Container para a sidebar -->
  <div class="flex min-h-screen bg-white">
    <!-- Sidebar será inserida aqui -->
    <div id="sidebar-container"></div>
    
    <!-- Conteúdo principal -->
    <div class="ml-16 flex-1 p-6">
      <!-- Header com clima -->
      <div class="flex justify-between items-center mb-6">
        <div></div>
        <div class="bg-yellow-100 px-4 py-2 rounded-lg flex items-center space-x-2">
          <img src="assets/sum.png" alt="Weather Icon" class="w-6 h-6" onerror="this.style.display='none'" />
          <span id="clima" class="font-semibold">Carregando clima</span>
        </div>
      </div>
      
      <!-- Cards de métricas -->
      <div class="w-full max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Lucro -->
        <div class="bg-white rounded-2xl p-6 shadow transition-shadow duration-300 hover:shadow-xl">
          <div class="flex items-center justify-between mb-2">
            <span class="text-gray-500 text-sm">Lucro</span>
          </div>
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
              <img src="assets/lucro.png" class="w-8 h-6" onerror="this.style.display='none'" />
            </div>
            <div>
              <div class="text-2xl font-bold text-gray-800">R$ 1589,65</div>
            </div>
          </div>
        </div>
        
        <!-- Prejuízo -->
        <div class="bg-white rounded-xl p-6 shadow transition-shadow duration-300 hover:shadow-xl">
          <div class="flex items-center justify-between mb-2">
            <span class="text-gray-500 text-sm">Prejuízo</span>
          </div>
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
              <img src="assets/prejuizo.png" class="w-8 h-6" onerror="this.style.display='none'" />
            </div>
            <div>
              <div class="text-2xl font-bold text-gray-800">R$ 3547,20</div>
            </div>
          </div>
        </div>
        
        <!-- Itens Armazenados -->
        <div class="bg-white rounded-xl p-6 shadow transition-shadow duration-300 hover:shadow-xl">
          <div class="flex items-center justify-between mb-2">
            <span class="text-gray-500 text-sm">Itens Armazenados</span>
          </div>
          <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
              <img src="assets/estoque.png" class="w-8 h-6" onerror="this.style.display='none'" />
            </div>
            <div>
              <div class="text-2xl font-bold text-gray-800">41</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Próximos Eventos -->
      <div class="bg-white rounded-xl p-6 shadow-sm mb-8 border-2">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-semibold text-gray-500">Próximos Eventos</h2>
          <button class="bg-green-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-medium transition-colors">
            + Novo Evento
          </button>
        </div>
        
        <!-- Lista de eventos -->
        <div class="space-y-3">
          <!-- Evento -->
          <div class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg">
            <div class="w-12 h-12 bg-green-light rounded-lg flex items-center justify-center">
              <span class="text-white font-bold">15</span>
            </div>
            <div class="flex-1">
              <h3 class="font-medium text-gray-800">Feira de Produtos Coloniais</h3>
              <p class="text-sm text-gray-500">Centro de Eventos de Ascurra</p>
              <div class="flex items-center text-xs text-gray-400 mt-1">
                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                </svg>
                15/04/2025 - 20/04/2025
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Tarefas Agendadas -->
      <div class="mb-8">
        <div class="flex items-center justify-between mb-4 px-2">
          <h2 class="text-lg font-semibold text-gray-500">Tarefas Agendadas</h2>
          <button class="bg-green-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-green-medium transition-colors">
            + Nova Tarefa
          </button>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 py-4">
          <!-- Exemplo de tarefa -->
          <div class="bg-green-light rounded-3xl p-4 text-white shadow transition-shadow duration-300 hover:shadow-xl">
            <h3 class="font-semibold mb-2">Irrigar</h3>
            <p class="text-sm opacity-90">Plantação de milho</p>
            <p class="text-sm opacity-90">Plantação de tomate</p>
            <p class="text-sm opacity-90">Plantação de alface</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Carrega a sidebar dinamicamente
    fetch('sidebar.html')
      .then(response => {
        if (!response.ok) {
          throw new Error('Sidebar não encontrada');
        }
        return response.text();
      })
      .then(data => {
        document.getElementById('sidebar-container').innerHTML = data;
        
        // Depois que a sidebar foi carregada, adiciona o listener do botão logout
        const logoutBtn = document.getElementById('logout');
        if (logoutBtn) {
          logoutBtn.addEventListener('click', function () {
            localStorage.removeItem('token');
            localStorage.removeItem('user');
            window.location.href = "login.html";
          });
        }
        
        // Agora você pode alterar o estilo do elemento da navbar
        const navbar = document.querySelector('#home');
        if (navbar) {
          navbar.classList.add('bg-white/20');
        }
      })
      .catch(error => {
        console.error('Erro ao carregar sidebar:', error);
        // Fallback caso a sidebar não carregue
        document.getElementById('sidebar-container').innerHTML = '<div class="w-16 bg-gray-800 min-h-screen"></div>';
      });
  </script>
  
  <!-- API ou outros scripts -->
  <script>
    // Fallback caso api.js não exista
    if (typeof fetch !== 'undefined') {
      fetch('api.js')
        .then(response => {
          if (response.ok) {
            return response.text();
          }
          throw new Error('API script não encontrado');
        })
        .then(script => {
          const scriptElement = document.createElement('script');
          scriptElement.textContent = script;
          document.head.appendChild(scriptElement);
        })
        .catch(error => {
          console.warn('API script não carregado:', error);
        });
    }
  </script>

  <script src="home.js"></script>   
</body>
</body>
</html>